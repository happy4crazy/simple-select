/*
* Copyright 2013 Lauren Sperber
* https://github.com/lauren/simple-select/blob/master/LICENSE
*/var simpleSelect=function(){var e=[],t={selectElements:function(n){e=[],n=n.split(" ");var r=[],i=[],s=[],o=document.getElementsByTagName("*");for(var u=0;u<n.length;u++)switch(n[u].charAt(0)){case"#":n[u]={id:n[u]};break;case".":n[u]={classes:[n[u]]};break;default:n[u]={node:n[u]}}for(var u=0;u<n.length;u++)n[u].classes&&(n[u].classes=t.findClasses(n[u].classes[0])),n[u].node&&(/#/.test(n[u].node)&&(n[u]=t.findNodeIds(n[u].node)),/\./.test(n[u].node)&&(n[u].classes=t.findClasses(n[u].node),n[u].node=n[u].node.split(".")[0])),n[u].id&&/\./.test(n[u].id)&&(n[u].classes=t.findClasses(n[u].id),n[u].id=n[u].id.split(".")[0]);return console.log(n),t.checkAndPushElements(o,t.matchToSelectors,n),console.log(e),e},findNodeIds:function(e){var t=e.split("#");return{node:t[0],id:"#"+t[1]}},findClasses:function(e){var t=e.split(".");t.shift();for(var n=0;n<t.length;n++)t[n]="."+t[n];return t},checkElements:function(e,t,n){for(var r=0;r<e.length;r++)t(e[r],n)},checkAndPushElements:function(t,n,r){for(var i=0;i<t.length;i++)console.log(t[i]),console.log(n(t[i],r)),n(t[i],r)&&e.push(t[i])},matchToSelectors:function(e,n){var r=e.nodeName.toLowerCase(),i=e.className.split(" "),s="#"+e.id,o,u=function(e){var n;if(e.length===0)return o=!1,o;if(e.length===1){if(e[0].node){if(e[0].node!==r)return o=!1,o;o=!0}if(e[0].id){if(e[0].id!==s)return o=!1,o;o=!0}if(e[0].classes){if(!t.allInArray(i,e[0].classes))return o=!1,o;o=!0}return console.log(o),o}if(e[0].node){if(e[0].node!==r)return n=!1,o;n=!0}if(e[0].id){if(e[0].id!==s)return n=!1,o;n=!0}if(e[0].classes){if(!t.allInArray(i,e[0].classes))return n=!1,o;n=!0}return n&&u(e.shift()),o};for(var a=0;a<i.length;a++)i[a]="."+i[a];u(n)},matchToNodeSelectors:function(n,r){var i=n.nodeName.toLowerCase();if(r.length===0)return!1;if(r.length===1)if(typeof r[0]=="string")i===r[0]&&e.push(n);else{var s=r[0].node;i===s&&(r[0].hasOwnProperty("classes")&&t.matchToClassSelectors(n,r[0].classes)&&e.push(n),r[0].hasOwnProperty("id")&&t.matchToIdSelectors(n,[r[0].id])&&e.push(n))}else{var o=r.slice(1,r.length);if(typeof r[0]=="string"){if(i===r[0])for(var u=0;u<n.children.length;u++)t.matchToNodeSelectors(n.children[u],o)}else{var s=r[0].node;if(i!==s)return!1;if(r[0].hasOwnProperty("classes")&&t.matchToClassSelectors(n,r[0].classes))for(var u=0;u<n.children.length;u++)t.matchToNodeSelectors(n.children[u],o);if(!r[0].hasOwnProperty("id")||!t.matchToIdSelectors(n,[r[0].id]))return!1;for(var u=0;u<n.children.length;u++)t.matchToNodeSelectors(n.children[u],o)}}},matchToIdSelectors:function(e,t){var n="#"+e.id;if(n===t[0])return!0},matchToClassSelectors:function(e,n){var r=e.className.split(" "),i;for(var s=0;s<r.length;s++)r[s]="."+r[s];var o=function(e){e.length===0?i=!1:e.length===1?typeof e[0]=="string"?t.inArray(r,e[0])>-1&&(i=!0):t.allInArray(r,e[0])&&(i=!0):typeof e[0]=="string"?t.inArray(r,e[0])>-1?i=!0:o(e.slice(1,e.length)):t.allInArray(r,e[0])?i=!0:o(e.slice(1,e.length))};return o(n),i},inArray:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},allInArray:function(e,n){var r,i=function(e,n){n.length===0?r=!1:n.length===1?t.inArray(e,n[0])>-1?r=!0:r=!1:t.inArray(e,n[0])>-1?i(e,n.slice(1,n.length)):r=!1};return i(e,n),r}};return t.selectElements}();