/*
* Copyright 2013 Lauren Sperber
* https://github.com/lauren/simple-select/blob/master/LICENSE
*/var simpleSelect=function(){var e=[],t={selectElements:function(n){e=[];var n=n.split(" "),r=document.getElementsByTagName("*");for(var i=0;i<n.length;i++)switch(n[i].charAt(0)){case"#":n[i]={id:n[i]};break;case".":n[i]={classes:[n[i]]};break;default:n[i]={node:n[i]}}for(var i=0;i<n.length;i++)n[i].classes&&(n[i].classes=t.findClasses(n[i].classes[0])),n[i].node&&(/#/.test(n[i].node)&&(n[i]=t.findNodeIds(n[i].node)),/\./.test(n[i].node)&&(n[i].classes=t.findClasses(n[i].node),n[i].node=n[i].node.split(".")[0])),n[i].id&&/\./.test(n[i].id)&&(n[i].classes=t.findClasses(n[i].id),n[i].id=n[i].id.split(".")[0]);return t.checkAndPushElements(r,t.matchToSelectors,n),e},findNodeIds:function(e){var t=e.split("#");return{node:t[0],id:"#"+t[1]}},findClasses:function(e){var t=e.split(".");t.shift();for(var n=0;n<t.length;n++)t[n]="."+t[n];return t},checkAndPushElements:function(n,r,i){for(var s=0;s<n.length;s++)r(n[s],t.findAllParents(n[s],[]),i)&&e.push(n[s])},findAllParents:function(e,n){return e.parentNode&&(n.unshift(e.parentNode),t.findAllParents(e.parentNode,n)),n.slice(1,n.length-1),n},matchOneElementToOneSelector:function(e,n){var r=e.nodeName.toLowerCase(),i=e.className.split(" "),s="#"+e.id,o;for(var u=0;u<i.length;u++)i[u]="."+i[u];return n.node&&(o=n.node===r),n.id&&(o=n.id===s),n.classes&&(o=t.allInArray(i,n.classes)),o},matchSelectorToParents:function(e,n){var r=e.slice(0).pop(),i;return result={match:!1,matchingElement:!1},e.length<=1?(result.match=!1,result):(i=t.matchOneElementToOneSelector(r,n),i?(result.match=!0,result.matchingElement=r,result):(t.matchSelectorToParents(e.slice(0,e.length-1),n),result))},matchToSelectors:function(e,n,r){var i=r.length,s=r[i-1],o=r[i-2],u,a,f;if(r.length===0)f=!1;else if(r.length===1)f=t.matchOneElementToOneSelector(e,r[0]);else if(t.matchOneElementToOneSelector(e,s)&&n.length>1){u=t.matchSelectorToParents(n,o);if(u.match){if(r.length!==2)return a=t.findAllParents(u.matchingElement,[]),t.matchToSelectors(u.matchingElement,a,r.slice(0,r.length-1));f=!0}else f=!1}else f=!1;return f},inArray:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},allInArray:function(e,n){var r,i=function(e,n){n.length===0?r=!1:n.length===1?r=t.inArray(e,n[0])>-1?!0:!1:t.inArray(e,n[0])>-1?i(e,n.slice(1,n.length)):r=!1};return i(e,n),r}};return t.selectElements}();